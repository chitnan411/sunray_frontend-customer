(this["webpackJsonpflone-react"]=this["webpackJsonpflone-react"]||[]).push([[72],{1085:function(e,a,t){e.exports=t.p+"static/media/noProfileImage.930e86f7.svg"},1238:function(e,a,t){"use strict";t.r(a);var r=t(59),n=t.n(r),s=t(95),o=t(1),c=t(159),i=t(1110),l=t(574),m=t(60),u=t.n(m),p=(t(891),t(0)),f=t.n(p),d=t(43),b=t(49),g=t(9),h=t(42),j=t.n(h),E=t(1030),N=t(1014),O=t(1002),v=t(1031),y=t(1032),k=t(1033),x=t(786),w=t(579),C=t(47),S=t(541),I=t(26),M=t(1085),z=t.n(M),B=t(889);a.default=Object(g.h)(Object(b.connect)((function(e){return{signInState:e.auth.ssSignIn,cartItems:e.cartData}}),(function(e){return{userSignOutRequest:function(){return e(Object(w.d)())},emptyGuestUserCart:function(){return e(Object(C.n)())},emptySSUserCart:function(a){return e(Object(S.g)())}}}))((function(e){var a=e.location,t=(e.emptySSUserCart,e.emptyGuestUserCart,e.userSignOutRequest,e.history,a.pathname,Object(p.useState)("")),r=Object(c.a)(t,2),m=r[0],b=r[1],g=Object(p.useState)(""),h=Object(c.a)(g,2),M=h[0],L=h[1],R=Object(p.useState)({}),U=Object(c.a)(R,2),F=U[0],P=U[1],D=Object(p.useState)(""),q=Object(c.a)(D,2),A=(q[0],q[1],JSON.parse(j.a.get(I.b))),J=Object(p.useState)(""),T=Object(c.a)(J,2),G=T[0],V=T[1],W=Object(p.useState)(!1),$=Object(c.a)(W,2),H=$[0],K=$[1],Q=Object(p.useState)(["firstName","lastName","profileImage","confirmNewPassword"].reduce((function(e,a){return e[a]={},e[a].hasError=!1,e[a].errorMsg="",e}),{})),X=Object(c.a)(Q,2),Y=X[0],Z=X[1],_=function(e){return!0===Y[e].hasError?f.a.createElement("div",{className:"ss-order-error-message"},Y[e].errorMsg):null};Object(p.useEffect)((function(){b(A.firstName),L(A.lastName),V(A.profilepic.length>0?A.profilepic&&A.profilepic[0]&&A.profilepic[0].original:z.a)}),[]);function ee(){return(ee=Object(s.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("firstName",m),a.append("lastName",M),0===A.profilepic.length&&"https://constant.myntassets.com/mymyntra/assets/img/default-image.png"!=G&&a.append("profilepic",F,F.name),A.profilepic.length>0&&G!==A.profilepic[0].original&&a.append("profilepic",F,F.name),e.next=7,u.a.patch("".concat(I.a,"/v1/users/").concat(A&&A.id),a,{withCredentials:!0,headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(j.a.get(I.c))}}).then(function(){var e=Object(s.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.data){e.next=8;break}if(!a.data){e.next=8;break}if(!a.data.id){e.next=8;break}return e.next=5,j.a.set(I.b,JSON.stringify(a.data));case 5:K(!1),K(!1),d.b.success("Profile Updated.",{style:{marginBottom:"40px"}});case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e.toString().includes("Network Error")?d.b.error("Connection problem! try again later.",{icon:f.a.createElement(l.a,{size:30,color:"#FF4343"}),style:{marginBottom:"40px"}}):e.response&&e.response.data&&(401===e.response.data.code&&(j.a.remove(I.c),j.a.set(I.d,!1),Object(S.g)(),Object(C.n)(),Object(w.d)(),d.b.error("Session Expired! Try again.",{style:{marginBottom:"40px"}})),400===e.response.data.code&&d.b.error(e.response.data.message,{style:{marginBottom:"40px"}}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(){var e=Object(s.a)(n.a.mark((function e(a){var t,r,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),a.persist(),t=a.target,r=t.name,s=t.value,console.log(r,s,"name value"),"firstName"==r&&b(s),"lastName"==r&&L(s),e.next=8,Object(B.d)(a,Object(o.a)({},Y));case 8:c=e.sent,Z(Object(o.a)({},c));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return f.a.createElement(p.Fragment,null,f.a.createElement("div",{className:"pt-50 pb-70 ml-5"},f.a.createElement("div",null,f.a.createElement("h3",{className:"text-dark"},"Profile Details ",f.a.createElement(i.a,{onClick:function(){return K(!H)},size:21,className:"mr-3 text-dark "}))),f.a.createElement("div",{className:"w-75 mt-4"},f.a.createElement(E.a,{onSubmit:function(e){e.preventDefault(),function(){var e=Object(o.a)({},Y);return m&&""!=m&&null!=m&&M&&""!=M&&null!=M?!0!==Y.firstName.hasError&&!0!==Y.lastName.hasError:(m&&""!=m&&null!=m?(e.firstName.hasError=!1,e.firstName.errorMsg="",Z(Object(o.a)({},e))):(e.firstName.hasError=!0,e.firstName.errorMsg="First name is required.",Z(Object(o.a)({},e))),M&&""!=M&&null!=M?(e.lastName.hasError=!1,e.lastName.errorMsg="",Z(Object(o.a)({},e))):(e.lastName.hasError=!0,e.lastName.errorMsg="Last name is required.",Z(Object(o.a)({},e))),Z(Object(o.a)({},e)),!1)}()&&function(){ee.apply(this,arguments)}()}},f.a.createElement("div",{className:"mb-3"},f.a.createElement("div",{className:"d-flex flex-row justify-content-start"},f.a.createElement("div",null,f.a.createElement("img",{alt:"",src:G,width:100,height:100})),H&&f.a.createElement("div",{className:"image-upload ml-3"},f.a.createElement("label",{htmlFor:"file-input"},f.a.createElement(i.a,{size:21,className:"mr-3 mt-2 mb-1 text-dark "}),"Update image"),f.a.createElement("input",{onChange:function(e){!function(e){var a=e.target,t=a.value,r=a.files,n=t,s=Object(o.a)({},Y);/(\.jpg|\.jpeg|\.png)$/i.exec(n)?r[0].size/1048576>2?(s.profileImage.hasError=!0,s.profileImage.errorMsg="Profile image shouldn't  be more than 2MBs.",Z(Object(o.a)({},s)),P({})):r&&r[0]&&(P(r[0]),console.log(r[0],"profileImage profileImage profileImage profileImage profileImage "),s.profileImage.hasError=!1,s.profileImage.errorMsg="",Z(Object(o.a)({},s)),V(URL.createObjectURL(r[0]))):(s.profileImage.hasError=!0,s.profileImage.errorMsg="Profile image should be file type of .jpg, .jpeg, .png",Z(Object(o.a)({},s)),P({}))}(e)},id:"file-input",type:"file"}),_("profileImage")))),f.a.createElement(N.a,null,f.a.createElement(O.a,{sm:6},f.a.createElement(v.a,{className:"form-label-group"},f.a.createElement(y.a,{for:"password"},"First Name"),f.a.createElement(k.a,{type:"text",value:m,disabled:!H,className:Y.firstName.hasError?"ss-input-has-error ":H?"ss-input":"ss-disabled",name:"firstName",onBlur:ae,onChange:ae}),_("firstName"))),f.a.createElement(O.a,{sm:6},f.a.createElement(v.a,{className:"form-label-group"},f.a.createElement(y.a,{for:"password"},"Last Name"),f.a.createElement(k.a,{type:"text",value:M,className:Y.lastName.hasError?"ss-input-has-error":H?"ss-input":"ss-disabled",id:"lastName",disabled:!H,name:"lastName",onBlur:ae,onChange:ae}),_("lastName")))),f.a.createElement(N.a,null,f.a.createElement(O.a,{sm:12},f.a.createElement(v.a,{className:"form-label-group"},f.a.createElement(y.a,{for:"password"},"Email address"),f.a.createElement(k.a,{type:"text",value:A.email,className:"ss-disabled",disabled:!H,onBlur:ae,onChange:ae})))),H&&f.a.createElement(x.a,{className:"btn-ss-dark-bg"},"Save Changes")))))})))},574:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var r=t(537),n=t.n(r),s=t(0),o=t(538),c=s.forwardRef((function(e,a){return s.createElement(o.a,n()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:a}),s.createElement("path",{d:"M1.293 8.395l1.414 1.414c.504-.504 1.052-.95 1.622-1.359L2.9 7.021c-.56.422-1.104.87-1.607 1.374zM6.474 5.06L3.707 2.293 2.293 3.707l18 18 1.414-1.414-5.012-5.012.976-.975a7.86 7.86 0 00-4.099-2.148L11.294 9.88c2.789-.191 5.649.748 7.729 2.827l1.414-1.414c-2.898-2.899-7.061-3.936-10.888-3.158L8.024 6.61A13.366 13.366 0 0112 6c3.537 0 6.837 1.353 9.293 3.809l1.414-1.414C19.874 5.561 16.071 4 12 4a15.198 15.198 0 00-5.526 1.06zm-2.911 6.233l1.414 1.414a9.563 9.563 0 012.058-1.551L5.576 9.697c-.717.451-1.395.979-2.013 1.596zm2.766 3.014l1.414 1.414c.692-.692 1.535-1.151 2.429-1.428l-1.557-1.557a7.76 7.76 0 00-2.286 1.571zm7.66 3.803l-2.1-2.1a1.996 1.996 0 102.1 2.1z"}))}));c.displayName="WifiOff"},786:function(e,a,t){"use strict";var r=t(7),n=t(17),s=t(163),o=t(14),c=t(0),i=t.n(c),l=t(16),m=t.n(l),u=t(525),p=t.n(u),f=t(642),d={active:m.a.bool,"aria-label":m.a.string,block:m.a.bool,color:m.a.string,disabled:m.a.bool,outline:m.a.bool,tag:f.j,innerRef:m.a.oneOfType([m.a.object,m.a.func,m.a.string]),onClick:m.a.func,size:m.a.string,children:m.a.node,className:m.a.string,cssModule:m.a.object,close:m.a.bool},b=function(e){function a(a){var t;return(t=e.call(this,a)||this).onClick=t.onClick.bind(Object(s.a)(t)),t}Object(o.a)(a,e);var t=a.prototype;return t.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},t.render=function(){var e=this.props,a=e.active,t=e["aria-label"],s=e.block,o=e.className,c=e.close,l=e.cssModule,m=e.color,u=e.outline,d=e.size,b=e.tag,g=e.innerRef,h=Object(n.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);c&&"undefined"===typeof h.children&&(h.children=i.a.createElement("span",{"aria-hidden":!0},"\xd7"));var j="btn"+(u?"-outline":"")+"-"+m,E=Object(f.g)(p()(o,{close:c},c||"btn",c||j,!!d&&"btn-"+d,!!s&&"btn-block",{active:a,disabled:this.props.disabled}),l);h.href&&"button"===b&&(b="a");var N=c?"Close":null;return i.a.createElement(b,Object(r.a)({type:"button"===b&&h.onClick?"button":void 0},h,{className:E,ref:g,onClick:this.onClick,"aria-label":t||N}))},a}(i.a.Component);b.propTypes=d,b.defaultProps={color:"secondary",tag:"button"},a.a=b},894:function(e,a){},895:function(e,a){},896:function(e,a){},897:function(e,a){},898:function(e,a){},899:function(e,a){},900:function(e,a){},901:function(e,a){},902:function(e,a){},903:function(e,a){},904:function(e,a){},905:function(e,a){}}]);
//# sourceMappingURL=72.db77efc9.chunk.js.map