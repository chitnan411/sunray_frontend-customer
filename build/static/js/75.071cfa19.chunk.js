(this["webpackJsonpflone-react"]=this["webpackJsonpflone-react"]||[]).push([[75],{1237:function(e,r,a){"use strict";a.r(r);var t=a(59),n=a.n(t),s=a(95),o=a(1),c=a(159),i=a(574),l=a(60),u=a.n(l),d=a(891),p=a.n(d),w=a(0),m=a.n(w),f=a(43),b=a(49),h=a(9),g=a(42),P=a.n(g),O=a(1030),E=a(1031),j=a(1032),v=a(1033),y=a(786),N=a(579),C=a(47),k=a(541),S=a(26),M=a(889);r.default=Object(h.h)(Object(b.connect)((function(e){return{signInState:e.auth.ssSignIn,cartItems:e.cartData}}),(function(e){return{userSignOutRequest:function(){return e(Object(N.d)())},emptyGuestUserCart:function(){return e(Object(C.n)())},emptySSUserCart:function(r){return e(Object(k.g)())}}}))((function(e){var r=e.location,a=(e.emptySSUserCart,e.emptyGuestUserCart,e.userSignOutRequest,e.history,r.pathname,Object(w.useState)("")),t=Object(c.a)(a,2),l=t[0],d=t[1],b=Object(w.useState)(""),h=Object(c.a)(b,2),g=h[0],x=h[1],z=Object(w.useState)(""),B=Object(c.a)(z,2),R=B[0],A=B[1],L=Object(w.useState)(["currentPassword","newPassword","confirmNewPassword"].reduce((function(e,r){return e[r]={},e[r].hasError=!1,e[r].errorMsg="",e[r].asyncLoading=!1,e}),{})),q=Object(c.a)(L,2),D=q[0],T=q[1],U=function(e){return!0===D[e].hasError?m.a.createElement("div",{className:"ss-order-error-message"},D[e].errorMsg):null};function F(){return(F=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat(S.a,"/v1/auth/change-password"),{oldPassword:p.a.encrypt(l,S.e).toString(),newPassword:p.a.encrypt(R,S.e).toString()},{withCredentials:!0,headers:{Authorization:"Bearer ".concat(P.a.get(S.c))}}).then((function(e){e.data&&e.data.confirmation&&e.data.confirmation.message&&200===e.data.confirmation.statusCode&&(f.b.success("Password changed successfully ",{style:{marginBottom:"40px"}}),A(""),x(""),d(""))})).catch((function(e){e.toString().includes("Network Error")?f.b.error("Connection problem! try again later.",{icon:m.a.createElement(i.a,{size:30,color:"#FF4343"}),style:{marginBottom:"40px"}}):e.response&&e.response.data&&(401===e.response.data.code&&(P.a.remove(S.c),P.a.set(S.d,!1),Object(k.g)(),Object(C.n)(),Object(N.d)(),f.b.error("Session Expired! Try again.",{style:{marginBottom:"40px"}})),400===e.response.data.code&&f.b.error(e.response.data.message,{style:{marginBottom:"40px"}}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(){var e=Object(s.a)(n.a.mark((function e(r){var a,t,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),r.persist(),a=r.target,t=a.name,s=a.value,console.log(t,s,"name value"),"currentPassword"==t&&d(s),"newPassword"==t&&x(s),"confirmNewPassword"==t&&A(s),e.next=9,Object(M.a)(r,l,g,R,Object(o.a)({},D));case 9:c=e.sent,T(Object(o.a)({},c));case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();JSON.parse(P.a.get(S.b));return m.a.createElement(w.Fragment,null,m.a.createElement("div",{className:"pt-50 pb-70 ml-5"},m.a.createElement("div",null,m.a.createElement("h3",{className:"text-dark"},"Change Password")),m.a.createElement("div",{className:"w-50 mt-4"},m.a.createElement(O.a,{onSubmit:function(e){e.preventDefault(),function(){var e=Object(o.a)({},D);return l&&""!=l&&null!=l&&g&&""!=g&&null!=g&&R&&""!=R&&null!=R?!0!==D.currentPassword.hasError&&!0!==D.newPassword.hasError&&!0!==D.confirmNewPassword.hasError:(l&&""!=l&&null!=l?(e.currentPassword.hasError=!1,e.currentPassword.errorMsg="",T(Object(o.a)({},e))):(e.currentPassword.hasError=!0,e.currentPassword.errorMsg="Current password is required.",T(Object(o.a)({},e))),g&&""!=g&&null!=g?(e.newPassword.hasError=!1,e.newPassword.errorMsg="",T(Object(o.a)({},e))):(e.newPassword.hasError=!0,e.newPassword.errorMsg="New password is required.",T(Object(o.a)({},e))),R&&""!=R&&null!=R?(e.confirmNewPassword.hasError=!1,e.confirmNewPassword.errorMsg="",T(Object(o.a)({},e))):(e.confirmNewPassword.hasError=!0,e.confirmNewPassword.errorMsg="Confirm password is required.",T(Object(o.a)({},e))),T(Object(o.a)({},e)),!1)}()&&function(){F.apply(this,arguments)}()}},m.a.createElement(E.a,{className:"form-label-group"},m.a.createElement(j.a,{for:"password"},"Current Password"),m.a.createElement(v.a,{type:"password",value:l,className:D.currentPassword.hasError?"ss-input-has-error":"ss-input",id:"currentPassword",name:"currentPassword",placeholder:"Type current password",onBlur:G,onChange:G}),U("currentPassword")),m.a.createElement(E.a,{className:"form-label-group"},m.a.createElement(j.a,{for:"password"},"New Password"),m.a.createElement(v.a,{type:"password",value:g,className:D.newPassword.hasError?"ss-input-has-error":"ss-input",id:"newPassword",name:"newPassword",placeholder:"Type new password",onBlur:G,onChange:G}),U("newPassword")),m.a.createElement(E.a,{className:"form-label-group"},m.a.createElement(j.a,{for:"password"},"Retype new Password"),m.a.createElement(v.a,{type:"password",value:R,className:D.confirmNewPassword.hasError?"ss-input-has-error":"ss-input",id:"confirmNewPassword",name:"confirmNewPassword",placeholder:"Retype new password",onBlur:G,onChange:G}),U("confirmNewPassword")),m.a.createElement(y.a,{className:"btn-ss-dark-bg"},"CHANGE PASSWORD")))))})))},574:function(e,r,a){"use strict";a.d(r,"a",(function(){return c}));var t=a(537),n=a.n(t),s=a(0),o=a(538),c=s.forwardRef((function(e,r){return s.createElement(o.a,n()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:r}),s.createElement("path",{d:"M1.293 8.395l1.414 1.414c.504-.504 1.052-.95 1.622-1.359L2.9 7.021c-.56.422-1.104.87-1.607 1.374zM6.474 5.06L3.707 2.293 2.293 3.707l18 18 1.414-1.414-5.012-5.012.976-.975a7.86 7.86 0 00-4.099-2.148L11.294 9.88c2.789-.191 5.649.748 7.729 2.827l1.414-1.414c-2.898-2.899-7.061-3.936-10.888-3.158L8.024 6.61A13.366 13.366 0 0112 6c3.537 0 6.837 1.353 9.293 3.809l1.414-1.414C19.874 5.561 16.071 4 12 4a15.198 15.198 0 00-5.526 1.06zm-2.911 6.233l1.414 1.414a9.563 9.563 0 012.058-1.551L5.576 9.697c-.717.451-1.395.979-2.013 1.596zm2.766 3.014l1.414 1.414c.692-.692 1.535-1.151 2.429-1.428l-1.557-1.557a7.76 7.76 0 00-2.286 1.571zm7.66 3.803l-2.1-2.1a1.996 1.996 0 102.1 2.1z"}))}));c.displayName="WifiOff"},786:function(e,r,a){"use strict";var t=a(7),n=a(17),s=a(163),o=a(14),c=a(0),i=a.n(c),l=a(16),u=a.n(l),d=a(525),p=a.n(d),w=a(642),m={active:u.a.bool,"aria-label":u.a.string,block:u.a.bool,color:u.a.string,disabled:u.a.bool,outline:u.a.bool,tag:w.j,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),onClick:u.a.func,size:u.a.string,children:u.a.node,className:u.a.string,cssModule:u.a.object,close:u.a.bool},f=function(e){function r(r){var a;return(a=e.call(this,r)||this).onClick=a.onClick.bind(Object(s.a)(a)),a}Object(o.a)(r,e);var a=r.prototype;return a.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},a.render=function(){var e=this.props,r=e.active,a=e["aria-label"],s=e.block,o=e.className,c=e.close,l=e.cssModule,u=e.color,d=e.outline,m=e.size,f=e.tag,b=e.innerRef,h=Object(n.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);c&&"undefined"===typeof h.children&&(h.children=i.a.createElement("span",{"aria-hidden":!0},"\xd7"));var g="btn"+(d?"-outline":"")+"-"+u,P=Object(w.g)(p()(o,{close:c},c||"btn",c||g,!!m&&"btn-"+m,!!s&&"btn-block",{active:r,disabled:this.props.disabled}),l);h.href&&"button"===f&&(f="a");var O=c?"Close":null;return i.a.createElement(f,Object(t.a)({type:"button"===f&&h.onClick?"button":void 0},h,{className:P,ref:b,onClick:this.onClick,"aria-label":a||O}))},r}(i.a.Component);f.propTypes=m,f.defaultProps={color:"secondary",tag:"button"},r.a=f},894:function(e,r){},895:function(e,r){},896:function(e,r){},897:function(e,r){},898:function(e,r){},899:function(e,r){},900:function(e,r){},901:function(e,r){},902:function(e,r){},903:function(e,r){},904:function(e,r){},905:function(e,r){}}]);
//# sourceMappingURL=75.071cfa19.chunk.js.map