{"version":3,"sources":["assets/images/home-bg-banner.jpg","assets/images/noOrders.svg","assets/images/noCredits.svg","pages/my-account/CreditNotes.js","assets/images/noImg_2.jpg"],"names":["module","exports","SignleItemView","s","orderItem","isLastIndet","useState","className","src","style","width","status","charAt","toUpperCase","slice","moment","createdAt","format","Intl","NumberFormat","currency","Math","round","subTotal","discount","shipping","products","combos","map","item","index","product","productImages","length","height","original","alt","productName","noImage","combo","comboImages","comboName","fontSize","lineHeight","color","marginTop","offeredPrice","quantity","size","sm","firstName","lastName","phone","streetAddress","streetName","apartment","town","state","postCode","CreditNotes","props","location","history","orderItems","setOrderItems","AuthUser","JSON","parse","Cookies","get","setUserDataCookieKey","dispatch","a","axios","apiRootUrl","id","withCredentials","headers","Authorization","ssClientAuthCookieKey","then","response","data","confirmation","message","statusCode","console","log","card","catch","error","toString","includes","code","remove","set","ssClientAuthFlagCookieKey","emptyUserCartRequest","emptyCart","localStorage","removeItem","signOutRequest","toast","marginBottom","useEffect","sendGerOrderRequest","noCredit","withRouter"],"mappings":"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","file":"static/js/78.4ca01a99.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-bg-banner.f7bd1357.jpg\";","module.exports = __webpack_public_path__ + \"static/media/noOrders.399841ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/noCredits.5971259e.svg\";","import axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport * as PropTypes from \"prop-types\";\nimport React, {useEffect, useState} from 'react'\nimport {toast} from \"react-hot-toast\";\nimport {withRouter} from \"react-router\";\nimport {Button, Col, Row} from \"reactstrap\";\nimport homebanner from \"../../assets/images/home-bg-banner.jpg\"\nimport {signOutRequest} from \"../../redux/actions/auth/ssLoginActions.js\";\nimport {emptyCart} from \"../../redux/actions/cartActions.js\";\nimport {emptyUserCartRequest} from \"../../redux/actions/ssCartActions.js\";\nimport {apiRootUrl, ssClientAuthCookieKey,setUserDataCookieKey, ssClientAuthFlagCookieKey} from \"../../utils/constants.js\";\nimport noOrder from \"../../assets/images/noOrders.svg\"\nimport noImage from \"../../assets/images/noImg_2.jpg\"\nimport {UserDetail} from \"@styled-icons/boxicons-solid/UserDetail\"\nimport noCredit from \"../../assets/images/noCredits.svg\"\nimport moment from \"moment\"\n\n\nconst capitalize = (s) => {\n    if (typeof s !== 'string') return ''\n    return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nfunction SignleItemView({orderItem,isLastIndet}) {\n    const[isViewMore,setViewMore] = useState(false)\n    return(\n        <div className=\"itemView\">\n            <div className=\"item-itemStatus\">\n                <div className=\"itemStatus\">\n                    <div className=\"itemDetailsContainer\">\n                        <div className=\"circleBackgroundIconWithStatus\">\n                            <img src=\"https://constant.myntassets.com/mymyntra/assets/img/profile-myntra-credit.png\"\n                                 style={{width: '25px'}}/>\n                        </div>\n                        <div className=\"itemDetails\">\n                            <div className=\"itemTitle\">\n                                <span className=\"Text-Text\">\n                                  {capitalize(orderItem && orderItem.status)}\n                                </span>\n                            </div>\n                            <div className=\"dateTime\">\n                                {moment(orderItem && orderItem.createdAt).format('LL')}\n                            </div>\n                            <div className=\"totalorder\">\n                                <>\n                                    <span className=\"font-weight-bolder\"> Payable: </span>\n                                    {new Intl.NumberFormat('en-IN', {\n                                        style: 'currency',\n                                        currency: 'INR'\n                                    }).format( Math.round(orderItem && orderItem.subTotal))}\n                                </>\n                                <br/>\n                                <>\n                                    <span className=\"font-weight-bolder\"> Discount: </span>\n                                    {new Intl.NumberFormat('en-IN', {\n                                        style: 'currency',\n                                        currency: 'INR'\n                                    }).format( Math.round(orderItem && orderItem.discount))}\n                                </>\n                                <br/>\n                                <>\n                                    <span className=\"font-weight-bolder\"> Shipping: </span>\n                                    {new Intl.NumberFormat('en-IN', {\n                                        style: 'currency',\n                                        currency: 'INR'\n                                    }).format( Math.round(orderItem && orderItem.shipping))}\n                                </>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div >\n                {\n                    (orderItem && orderItem.products) && (orderItem && orderItem.combos)\n                    && [...orderItem.products, ...orderItem.combos].map((item, index) => {\n                        return(\n                            <div className=\"item-itemInfoList\">\n                                <div className=\"Product-imageAndDetails\">\n                                    { \"product\" in item\n                                        ?\n                                        <div className=\"Product-thumbnail\">\n                                            {(item && item.product && item.product.productImages && item.product.productImages && item.product.productImages.length)\n                                                ?\n                                                <img\n                                                    height={80}\n                                                    width={80}\n                                                    src={item.product.productImages[0] && item.product.productImages[0].original}\n                                                    alt={item.product.productName} style={{width: '80px'}}\n                                                />\n                                                :\n                                                <img src={noImage}\n                                                     height={80}\n                                                     width={80}\n                                                     alt={item.product.productName} style={{width: '80px'}}\n                                                />\n                                            }\n                                        </div>\n                                        :\n                                        <div className=\"Product-thumbnail\">\n                                            {(item && item.combo && item.combo.comboImages && item.combo.comboImages && item.combo.comboImages.length)\n                                                ?\n                                                <img\n                                                    height={80}\n                                                    width={80}\n                                                    src={item.combo.comboImages[0] && item.combo.comboImages[0].original}\n                                                    alt={item.combo.comboName} style={{width: '80px'}}\n                                                />\n                                                :\n                                                <img height={80}\n                                                     width={80}\n                                                     src={noImage}\n                                                     alt={item.combo.comboName} style={{width: '80px'}}\n                                                />\n                                            }\n                                        </div>\n                                    }\n\n                                    <div className=\"Product-content\">\n                                        <b>{item && item.combo && item.combo.comboName || item && item.product && item.product.productName}</b>\n                                        <div style={{fontSize: 14, lineHeight: 1, color: '#282c3f', marginTop: 4}}>\n                                            {new Intl.NumberFormat('en-IN', {\n                                                style: 'currency',\n                                                currency: 'INR'\n                                            }).format( Math.round( item && item.offeredPrice))}\n                                            &nbsp;\n                                            X {item && item.quantity}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n            <div>\n                <div>\n                    <h4 className=\"ml-1 mt-4 mb-2 text-dark\">\n                        <UserDetail className=\"mr-2\" size={25}/>\n                        Billing Details </h4>\n                </div>\n                <div className=\"ml-28\">\n                    <Row>\n                        <Col sm=\"3\" className=\"text-left\">\n                            <dd>Ordered By </dd>\n                        </Col>\n                        <Col sm=\"9\">\n                            <dd>{orderItem.firstName}&nbsp;{orderItem.lastName}</dd>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col sm=\"3\" className=\"text-left\">\n                            <dd>Phone </dd>\n                        </Col>\n                        <Col sm=\"9\">\n                            <dd>{orderItem.phone}</dd>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col sm=\"3\" className=\"text-left\">\n                            <dd>Address </dd>\n                        </Col>\n                        <Col sm=\"9\">\n                            <dd>\n                                {orderItem.streetAddress && orderItem.streetAddress.streetName}&nbsp;\n                                {orderItem.streetAddress && orderItem.streetAddress.apartment}&nbsp;\n                                {orderItem && orderItem.town}&nbsp;\n                                {orderItem && orderItem.state}&nbsp;\n                                {orderItem && orderItem.postCode}\n                            </dd>\n                        </Col>\n                    </Row>\n                </div>\n            </div>\n            { !isLastIndet &&\n            <hr/>\n            }\n        </div>\n    )\n}\n\n\nexport function CreditNotes(props) {\n    let {location, history} = props;\n    const [orderItems,setOrderItems] = useState([])\n\n    const AuthUser = JSON.parse(Cookies.get(setUserDataCookieKey))\n\n    async function sendGerOrderRequest(dispatch){\n        return await axios.get(`${apiRootUrl}/v2/admin/order?customerId=${AuthUser && AuthUser.id}`,{withCredentials: true, headers: {Authorization: `Bearer ${Cookies.get(ssClientAuthCookieKey)}`}})\n            .then((response) => {\n                if(response.data){\n                    if(response.data.confirmation){\n                        if(response.data.confirmation.message){\n                            if (response.data.confirmation.statusCode === 200) {\n                                console.log(response.data.card.data,\"response.data.card.data response.data.card.data response.data.card.data response.data.card.data response.data.card.dataresponse.data.card.dataresponse.data.card.data\")\n                                setOrderItems(response.data.card.data)\n                            }\n                        }\n                    }\n                }\n            })\n            .catch( (error) => {\n                if(error.toString().includes('Network Error')){\n                    const errorData = {code: 503, message: \"Connection problem! try again later.\"}\n                }else {\n                    if(error.response) {\n                        if (error.response.data) {\n                            if(error.response.data.code === 401){\n                                Cookies.remove(ssClientAuthCookieKey)\n                                Cookies.set(ssClientAuthFlagCookieKey, false)\n                                dispatch(emptyUserCartRequest())\n                                dispatch(emptyCart())\n                                localStorage.removeItem(\"couponData\")\n                                dispatch(signOutRequest())\n\n                                toast.error(`Session Expired! Try again.`,{\n                                    style:{\n                                        marginBottom: \"40px\"\n                                    }\n                                })\n\n                            }\n                            if(error.response.data.code === 400){\n\n                                toast.error(`Something went wrong! Please try again later.`,{\n                                    style:{\n                                        marginBottom: \"40px\"\n                                    }\n                                })\n\n                            }\n                        }\n                    }\n                }\n            })\n    }\n\n    useEffect(() => {\n        sendGerOrderRequest()\n    },[])\n\n    return (\n\n        <div className=\"page-listBackground\">\n            { orderItems && orderItems.length > 0\n                ?\n                orderItems.map((orderItem, index) => {\n                    return(\n                        <div >\n                            <SignleItemView isLastIndet={orderItems.length === index + 1} orderItem={orderItem}/>\n                        </div>\n                    )\n                })\n                :\n                <>\n                    <div  className=\"no-order w-100 text-center\">\n                        <img height={150} width={150} src={noCredit} />\n                        <h4 className=\"text-dark text-center font-weight-bolder\">You have no credit notes.</h4>\n                        <p>This is where you can see all your credit notes.</p>\n                    </div>\n                </>\n            }\n\n        </div>\n    )\n}\n\nCreditNotes.propTypes = {location: PropTypes.any}\n\n\nexport default withRouter(CreditNotes)\n","module.exports = __webpack_public_path__ + \"static/media/noImg_2.92793810.jpg\";"],"sourceRoot":""}