{"version":3,"sources":["assets/images/home-bg-banner.jpg","assets/images/noOrders.svg","assets/images/noCredits.svg","pages/my-account/CreditNotes.js","assets/images/noImg_2.jpg"],"names":["module","exports","SignleItemView","s","orderItem","isLastIndet","useState","className","src","style","width","status","charAt","toUpperCase","slice","moment","createdAt","format","Intl","NumberFormat","currency","Math","round","subTotal","discount","shipping","products","combos","map","item","index","product","productImages","length","height","original","alt","productName","noImage","combo","comboImages","comboName","fontSize","lineHeight","color","marginTop","offeredPrice","quantity","size","sm","firstName","lastName","phone","streetAddress","streetName","apartment","town","state","postCode","CreditNotes","props","location","history","orderItems","setOrderItems","AuthUser","JSON","parse","Cookies","get","setUserDataCookieKey","dispatch","a","axios","apiRootUrl","id","withCredentials","headers","Authorization","ssClientAuthCookieKey","then","response","data","confirmation","message","statusCode","console","log","card","catch","error","toString","includes","code","remove","set","ssClientAuthFlagCookieKey","emptyUserCartRequest","emptyCart","localStorage","removeItem","signOutRequest","toast","marginBottom","useEffect","sendGerOrderRequest","noCredit","withRouter"],"mappings":"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","file":"static/js/78.d44e32a2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-bg-banner.f7bd1357.jpg\";","module.exports = __webpack_public_path__ + \"static/media/noOrders.399841ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/noCredits.5971259e.svg\";","import axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport React, {useEffect, useState} from 'react'\r\nimport {toast} from \"react-hot-toast\";\r\nimport {withRouter} from \"react-router\";\r\nimport {Button, Col, Row} from \"reactstrap\";\r\nimport homebanner from \"../../assets/images/home-bg-banner.jpg\"\r\nimport {signOutRequest} from \"../../redux/actions/auth/ssLoginActions.js\";\r\nimport {emptyCart} from \"../../redux/actions/cartActions.js\";\r\nimport {emptyUserCartRequest} from \"../../redux/actions/ssCartActions.js\";\r\nimport {apiRootUrl, ssClientAuthCookieKey,setUserDataCookieKey, ssClientAuthFlagCookieKey} from \"../../utils/constants.js\";\r\nimport noOrder from \"../../assets/images/noOrders.svg\"\r\nimport noImage from \"../../assets/images/noImg_2.jpg\"\r\nimport {UserDetail} from \"@styled-icons/boxicons-solid/UserDetail\"\r\nimport noCredit from \"../../assets/images/noCredits.svg\"\r\nimport moment from \"moment\"\r\n\r\n\r\nconst capitalize = (s) => {\r\n    if (typeof s !== 'string') return ''\r\n    return s.charAt(0).toUpperCase() + s.slice(1)\r\n}\r\n\r\nfunction SignleItemView({orderItem,isLastIndet}) {\r\n    const[isViewMore,setViewMore] = useState(false)\r\n    return(\r\n        <div className=\"itemView\">\r\n            <div className=\"item-itemStatus\">\r\n                <div className=\"itemStatus\">\r\n                    <div className=\"itemDetailsContainer\">\r\n                        <div className=\"circleBackgroundIconWithStatus\">\r\n                            <img src=\"https://constant.myntassets.com/mymyntra/assets/img/profile-myntra-credit.png\"\r\n                                 style={{width: '25px'}}/>\r\n                        </div>\r\n                        <div className=\"itemDetails\">\r\n                            <div className=\"itemTitle\">\r\n                                <span className=\"Text-Text\">\r\n                                  {capitalize(orderItem && orderItem.status)}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"dateTime\">\r\n                                {moment(orderItem && orderItem.createdAt).format('LL')}\r\n                            </div>\r\n                            <div className=\"totalorder\">\r\n                                <>\r\n                                    <span className=\"font-weight-bolder\"> Payable: </span>\r\n                                    {new Intl.NumberFormat('en-IN', {\r\n                                        style: 'currency',\r\n                                        currency: 'INR'\r\n                                    }).format( Math.round(orderItem && orderItem.subTotal))}\r\n                                </>\r\n                                <br/>\r\n                                <>\r\n                                    <span className=\"font-weight-bolder\"> Discount: </span>\r\n                                    {new Intl.NumberFormat('en-IN', {\r\n                                        style: 'currency',\r\n                                        currency: 'INR'\r\n                                    }).format( Math.round(orderItem && orderItem.discount))}\r\n                                </>\r\n                                <br/>\r\n                                <>\r\n                                    <span className=\"font-weight-bolder\"> Shipping: </span>\r\n                                    {new Intl.NumberFormat('en-IN', {\r\n                                        style: 'currency',\r\n                                        currency: 'INR'\r\n                                    }).format( Math.round(orderItem && orderItem.shipping))}\r\n                                </>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div >\r\n                {\r\n                    (orderItem && orderItem.products) && (orderItem && orderItem.combos)\r\n                    && [...orderItem.products, ...orderItem.combos].map((item, index) => {\r\n                        return(\r\n                            <div className=\"item-itemInfoList\">\r\n                                <div className=\"Product-imageAndDetails\">\r\n                                    { \"product\" in item\r\n                                        ?\r\n                                        <div className=\"Product-thumbnail\">\r\n                                            {(item && item.product && item.product.productImages && item.product.productImages && item.product.productImages.length)\r\n                                                ?\r\n                                                <img\r\n                                                    height={80}\r\n                                                    width={80}\r\n                                                    src={item.product.productImages[0] && item.product.productImages[0].original}\r\n                                                    alt={item.product.productName} style={{width: '80px'}}\r\n                                                />\r\n                                                :\r\n                                                <img src={noImage}\r\n                                                     height={80}\r\n                                                     width={80}\r\n                                                     alt={item.product.productName} style={{width: '80px'}}\r\n                                                />\r\n                                            }\r\n                                        </div>\r\n                                        :\r\n                                        <div className=\"Product-thumbnail\">\r\n                                            {(item && item.combo && item.combo.comboImages && item.combo.comboImages && item.combo.comboImages.length)\r\n                                                ?\r\n                                                <img\r\n                                                    height={80}\r\n                                                    width={80}\r\n                                                    src={item.combo.comboImages[0] && item.combo.comboImages[0].original}\r\n                                                    alt={item.combo.comboName} style={{width: '80px'}}\r\n                                                />\r\n                                                :\r\n                                                <img height={80}\r\n                                                     width={80}\r\n                                                     src={noImage}\r\n                                                     alt={item.combo.comboName} style={{width: '80px'}}\r\n                                                />\r\n                                            }\r\n                                        </div>\r\n                                    }\r\n\r\n                                    <div className=\"Product-content\">\r\n                                        <b>{item && item.combo && item.combo.comboName || item && item.product && item.product.productName}</b>\r\n                                        <div style={{fontSize: 14, lineHeight: 1, color: '#282c3f', marginTop: 4}}>\r\n                                            {new Intl.NumberFormat('en-IN', {\r\n                                                style: 'currency',\r\n                                                currency: 'INR'\r\n                                            }).format( Math.round( item && item.offeredPrice))}\r\n                                            &nbsp;\r\n                                            X {item && item.quantity}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <div>\r\n                <div>\r\n                    <h4 className=\"ml-1 mt-4 mb-2 text-dark\">\r\n                        <UserDetail className=\"mr-2\" size={25}/>\r\n                        Billing Details </h4>\r\n                </div>\r\n                <div className=\"ml-28\">\r\n                    <Row>\r\n                        <Col sm=\"3\" className=\"text-left\">\r\n                            <dd>Ordered By </dd>\r\n                        </Col>\r\n                        <Col sm=\"9\">\r\n                            <dd>{orderItem.firstName}&nbsp;{orderItem.lastName}</dd>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col sm=\"3\" className=\"text-left\">\r\n                            <dd>Phone </dd>\r\n                        </Col>\r\n                        <Col sm=\"9\">\r\n                            <dd>{orderItem.phone}</dd>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col sm=\"3\" className=\"text-left\">\r\n                            <dd>Address </dd>\r\n                        </Col>\r\n                        <Col sm=\"9\">\r\n                            <dd>\r\n                                {orderItem.streetAddress && orderItem.streetAddress.streetName}&nbsp;\r\n                                {orderItem.streetAddress && orderItem.streetAddress.apartment}&nbsp;\r\n                                {orderItem && orderItem.town}&nbsp;\r\n                                {orderItem && orderItem.state}&nbsp;\r\n                                {orderItem && orderItem.postCode}\r\n                            </dd>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </div>\r\n            { !isLastIndet &&\r\n            <hr/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport function CreditNotes(props) {\r\n    let {location, history} = props;\r\n    const [orderItems,setOrderItems] = useState([])\r\n\r\n    const AuthUser = JSON.parse(Cookies.get(setUserDataCookieKey))\r\n\r\n    async function sendGerOrderRequest(dispatch){\r\n        return await axios.get(`${apiRootUrl}/v2/admin/order?customerId=${AuthUser && AuthUser.id}`,{withCredentials: true, headers: {Authorization: `Bearer ${Cookies.get(ssClientAuthCookieKey)}`}})\r\n            .then((response) => {\r\n                if(response.data){\r\n                    if(response.data.confirmation){\r\n                        if(response.data.confirmation.message){\r\n                            if (response.data.confirmation.statusCode === 200) {\r\n                                console.log(response.data.card.data,\"response.data.card.data response.data.card.data response.data.card.data response.data.card.data response.data.card.dataresponse.data.card.dataresponse.data.card.data\")\r\n                                setOrderItems(response.data.card.data)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            .catch( (error) => {\r\n                if(error.toString().includes('Network Error')){\r\n                    const errorData = {code: 503, message: \"Connection problem! try again later.\"}\r\n                }else {\r\n                    if(error.response) {\r\n                        if (error.response.data) {\r\n                            if(error.response.data.code === 401){\r\n                                Cookies.remove(ssClientAuthCookieKey)\r\n                                Cookies.set(ssClientAuthFlagCookieKey, false)\r\n                                dispatch(emptyUserCartRequest())\r\n                                dispatch(emptyCart())\r\n                                localStorage.removeItem(\"couponData\")\r\n                                dispatch(signOutRequest())\r\n\r\n                                toast.error(`Session Expired! Try again.`,{\r\n                                    style:{\r\n                                        marginBottom: \"40px\"\r\n                                    }\r\n                                })\r\n\r\n                            }\r\n                            if(error.response.data.code === 400){\r\n\r\n                                toast.error(`Something went wrong! Please try again later.`,{\r\n                                    style:{\r\n                                        marginBottom: \"40px\"\r\n                                    }\r\n                                })\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        sendGerOrderRequest()\r\n    },[])\r\n\r\n    return (\r\n\r\n        <div className=\"page-listBackground\">\r\n            { orderItems && orderItems.length > 0\r\n                ?\r\n                orderItems.map((orderItem, index) => {\r\n                    return(\r\n                        <div >\r\n                            <SignleItemView isLastIndet={orderItems.length === index + 1} orderItem={orderItem}/>\r\n                        </div>\r\n                    )\r\n                })\r\n                :\r\n                <>\r\n                    <div  className=\"no-order w-100 text-center\">\r\n                        <img height={150} width={150} src={noCredit} />\r\n                        <h4 className=\"text-dark text-center font-weight-bolder\">You have no credit notes.</h4>\r\n                        <p>This is where you can see all your credit notes.</p>\r\n                    </div>\r\n                </>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nCreditNotes.propTypes = {location: PropTypes.any}\r\n\r\n\r\nexport default withRouter(CreditNotes)\r\n","module.exports = __webpack_public_path__ + \"static/media/noImg_2.92793810.jpg\";"],"sourceRoot":""}